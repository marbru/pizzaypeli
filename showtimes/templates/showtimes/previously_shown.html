{% extends 'showtimes/base.html' %}

{% block content %}
<div class="card">
    <h2>Previously shown movies</h2>
    {% if movies %}
    {% for movie in movies %}
    <div class="movie-card">
        <img src="{{ movie.cover_url }}" alt="{{ movie.title }}" class="movie-cover">
        <div class="movie-details">
            <div class="movie-header">
                <span class="movie-title">{{ movie.title }}</span>
                {% if movie.year %}<span class="movie-year">({{ movie.year }})</span>{% endif %}
            </div>
            <p class="movie-description">{{ movie.description }}</p>
            <div class="movie-footer">
                <span class="movie-meta">Shown on {{ movie.showed_at|date:"F j, Y" }}</span>
                <span class="movie-meta">{{ movie.vote_count }} vote{{ movie.vote_count|pluralize }}</span>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="empty-state">
        No movies have been shown yet.
    </div>
    {% endif %}
</div>
{% endblock %}